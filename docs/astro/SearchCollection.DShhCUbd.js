import{d as _e,c as h,a as ke,o as me,g,b as u,i,e as m,f as Se,r as S,h as B,t as $,s as f,j as pe,F as we}from"./web.C9d07c_e.js";import{F as Ce,S as ye,c as v,A as Ee}from"./SearchBar.DvrRlf0a.js";var Ne=$('<div class="grid grid-cols-1 sm:grid-cols-3 gap-6"><div class="col-span-3 sm:col-span-1"><div class="sticky top-24 mt-7"><!$><!/><div class="relative flex flex-row justify-between w-full"><p class="text-sm font-semibold uppercase my-4 text-black dark:text-white">Tags</p><!$><!/></div><ul class="flex flex-wrap sm:flex-col gap-1.5"></ul></div></div><div class="col-span-3 sm:col-span-2"><div class="flex flex-col"><div class="flex justify-between flex-row mb-2"><div class="text-sm uppercase">SHOWING <!$><!/> OF <!$><!/> <!$><!/></div><button class="flex flex-row gap-1 stroke-neutral-400 dark:stroke-neutral-500 hover:stroke-neutral-600 hover:dark:stroke-neutral-300 text-neutral-400 dark:text-neutral-500 hover:text-neutral-600 hover:dark:text-neutral-300"><div class="text-sm uppercase"></div><svg class="size-5 left-2 top-[0.45rem]"><use href=/ui.svg#sort-descending></use><use href=/ui.svg#sort-ascending></use></svg></button></div><ul class="flex flex-col gap-3">'),Fe=$('<button class="absolute flex justify-center items-center h-full w-10 right-0 top-0 stroke-neutral-400 dark:stroke-neutral-500 hover:stroke-neutral-600 hover:dark:stroke-neutral-300"><svg class=size-5><use href=/ui.svg#x>'),Ae=$('<li class=sm:w-full><button><svg><use href=/ui.svg#square></use><use href=/ui.svg#square-check></use></svg><span class="truncate block min-w-0 pt-[2px]">'),De=$("<li>");function je({entry_name:p,data:w,tags:O}){const C=w.map(e=>e),[x,y]=h(""),[n,E]=h(new Set),[N,R]=h([]),[o,Q]=h(!1),W=new Ce(C,{keys:["slug","data.title","data.summary","data.tags"],includeMatches:!0,minMatchCharLength:2,threshold:.4});ke(()=>{const e=(x().length<2?C:W.search(x()).map(l=>l.item)).filter(l=>Array.from(n()).every(c=>l.data.tags.some(b=>b.toLowerCase()===String(c).toLowerCase())));R(o()?e.toReversed():e)});function J(){Q(!o())}function K(e){E(l=>new Set(l.has(e)?[...l].filter(c=>c!==e):[...l,e]))}function P(){E(new Set)}const U=e=>{const l=e.target;y(l.value)};return me(()=>{const e=document.getElementById("search-collection-wrapper");e&&(e.style.minHeight="unset")}),(()=>{var e=g(Ne),l=e.firstChild,c=l.firstChild,b=c.firstChild,[F,V]=u(b.nextSibling),_=F.nextSibling,X=_.firstChild,Y=X.nextSibling,[Z,ee]=u(Y.nextSibling),te=_.nextSibling,le=l.nextSibling,se=le.firstChild,A=se.firstChild,d=A.firstChild,ie=d.firstChild,re=ie.nextSibling,[D,ae]=u(re.nextSibling),ne=D.nextSibling,ce=ne.nextSibling,[I,oe]=u(ce.nextSibling),de=I.nextSibling,ue=de.nextSibling,[fe,he]=u(ue.nextSibling),M=d.nextSibling,j=M.firstChild,ge=j.nextSibling,z=ge.firstChild,ve=z.nextSibling,$e=A.nextSibling;return i(c,m(ye,{onSearchInput:U,query:x,setQuery:y,placeholderText:`Search ${p}`}),F,V),i(_,(()=>{var t=Se(()=>n().size>0);return()=>t()&&(()=>{var s=g(Fe),a=s.firstChild;return a.firstChild,s.$$click=P,S(),s})()})(),Z,ee),i(te,m(we,{each:O,children:t=>(()=>{var s=g(Ae),a=s.firstChild,k=a.firstChild,q=k.firstChild,xe=q.nextSibling,be=k.nextSibling;return a.$$click=()=>K(t),i(be,t),B(r=>{var G=v("w-full px-2 py-1 rounded","flex gap-2 items-center","bg-black/5 dark:bg-white/10","hover:bg-black/10 hover:dark:bg-white/15","transition-colors duration-300 ease-in-out",n().has(t)&&"text-black dark:text-white"),H=v("shrink-0 size-5 fill-black/50 dark:fill-white/50","transition-colors duration-300 ease-in-out",n().has(t)&&"fill-black dark:fill-white"),L=v(n().has(t)?"hidden":"block"),T=v(n().has(t)?"block":"hidden");return G!==r.e&&pe(a,r.e=G),H!==r.t&&f(k,"class",r.t=H),L!==r.a&&f(q,"class",r.a=L),T!==r.o&&f(xe,"class",r.o=T),r},{e:void 0,t:void 0,a:void 0,o:void 0}),S(),s})()})),i(d,()=>N().length,D,ae),i(d,()=>w.length,I,oe),i(d,p,fe,he),M.$$click=J,i(j,()=>o()?"DESCENDING":"ASCENDING"),i($e,()=>N().map(t=>(()=>{var s=g(De);return i(s,m(Ee,{entry:t})),s})())),B(t=>{var s=o()?"block":"hidden",a=o()?"hidden":"block";return s!==t.e&&f(z,"class",t.e=s),a!==t.t&&f(ve,"class",t.t=a),t},{e:void 0,t:void 0}),S(),e})()}_e(["click"]);export{je as default};
