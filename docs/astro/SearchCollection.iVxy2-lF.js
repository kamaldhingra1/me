import{d as me,c as $,a as ke,o as Se,g as v,b as h,i,e as w,f as pe,s as r,r as C,h as Q,t as b,j as we,F as Ce}from"./web.C9d07c_e.js";import{F as ye,S as Ee,c as x,A as Ne}from"./SearchBar.CutlnjJD.js";var Fe=b('<div class="grid grid-cols-1 sm:grid-cols-3 gap-6"><div class="col-span-3 sm:col-span-1"><div class="sticky top-24 mt-7"><!$><!/><div class="relative flex flex-row justify-between w-full"><p class="text-sm font-semibold uppercase my-4 text-black dark:text-white">Tags</p><!$><!/></div><ul class="flex flex-wrap sm:flex-col gap-1.5"></ul></div></div><div class="col-span-3 sm:col-span-2"><div class="flex flex-col"><div class="flex justify-between flex-row mb-2"><div class="text-sm uppercase">SHOWING <!$><!/> OF <!$><!/> <!$><!/></div><button class="flex flex-row gap-1 stroke-neutral-400 dark:stroke-neutral-500 hover:stroke-neutral-600 hover:dark:stroke-neutral-300 text-neutral-400 dark:text-neutral-500 hover:text-neutral-600 hover:dark:text-neutral-300"><div class="text-sm uppercase"></div><svg class="size-5 left-2 top-[0.45rem]"><use></use><use></use></svg></button></div><ul class="flex flex-col gap-3">'),Ae=b('<button class="absolute flex justify-center items-center h-full w-10 right-0 top-0 stroke-neutral-400 dark:stroke-neutral-500 hover:stroke-neutral-600 hover:dark:stroke-neutral-300"><svg class=size-5><use>'),De=b('<li class=sm:w-full><button><svg><use></use><use></use></svg><span class="truncate block min-w-0 pt-[2px]">'),Ie=b("<li>");const g="/me/";function ze({entry_name:y,data:E,tags:U}){const N=E.map(e=>e),[_,F]=$(""),[c,A]=$(new Set),[D,W]=$([]),[d,J]=$(!1),K=new ye(N,{keys:["slug","data.title","data.summary","data.tags"],includeMatches:!0,minMatchCharLength:2,threshold:.4});ke(()=>{const e=(_().length<2?N:K.search(_()).map(l=>l.item)).filter(l=>Array.from(c()).every(o=>l.data.tags.some(m=>m.toLowerCase()===String(o).toLowerCase())));W(d()?e.toReversed():e)});function P(){J(!d())}function V(e){A(l=>new Set(l.has(e)?[...l].filter(o=>o!==e):[...l,e]))}function X(){A(new Set)}const Y=e=>{const l=e.target;F(l.value)};return Se(()=>{const e=document.getElementById("search-collection-wrapper");e&&(e.style.minHeight="unset")}),(()=>{var e=v(Fe),l=e.firstChild,o=l.firstChild,m=o.firstChild,[I,Z]=h(m.nextSibling),k=I.nextSibling,ee=k.firstChild,te=ee.nextSibling,[le,se]=h(te.nextSibling),ie=k.nextSibling,re=l.nextSibling,ae=re.firstChild,M=ae.firstChild,u=M.firstChild,ne=u.firstChild,ce=ne.nextSibling,[j,oe]=h(ce.nextSibling),de=j.nextSibling,ue=de.nextSibling,[z,fe]=h(ue.nextSibling),he=z.nextSibling,ge=he.nextSibling,[$e,ve]=h(ge.nextSibling),q=u.nextSibling,G=q.firstChild,xe=G.nextSibling,S=xe.firstChild,H=S.nextSibling,be=M.nextSibling;return i(o,w(Ee,{onSearchInput:Y,query:_,setQuery:F,placeholderText:`Search ${y}`}),I,Z),i(k,(()=>{var t=pe(()=>c().size>0);return()=>t()&&(()=>{var s=v(Ae),n=s.firstChild,f=n.firstChild;return s.$$click=X,r(f,"href",`${g}/ui.svg#x`),C(),s})()})(),le,se),i(ie,w(Ce,{each:U,children:t=>(()=>{var s=v(De),n=s.firstChild,f=n.firstChild,p=f.firstChild,L=p.nextSibling,_e=f.nextSibling;return n.$$click=()=>V(t),r(p,"href",`${g}/ui.svg#square`),r(L,"href",`${g}/ui.svg#square-check`),i(_e,t),Q(a=>{var T=x("w-full px-2 py-1 rounded","flex gap-2 items-center","bg-black/5 dark:bg-white/10","hover:bg-black/10 hover:dark:bg-white/15","transition-colors duration-300 ease-in-out",c().has(t)&&"text-black dark:text-white"),B=x("shrink-0 size-5 fill-black/50 dark:fill-white/50","transition-colors duration-300 ease-in-out",c().has(t)&&"fill-black dark:fill-white"),O=x(c().has(t)?"hidden":"block"),R=x(c().has(t)?"block":"hidden");return T!==a.e&&we(n,a.e=T),B!==a.t&&r(f,"class",a.t=B),O!==a.a&&r(p,"class",a.a=O),R!==a.o&&r(L,"class",a.o=R),a},{e:void 0,t:void 0,a:void 0,o:void 0}),C(),s})()})),i(u,()=>D().length,j,oe),i(u,()=>E.length,z,fe),i(u,y,$e,ve),q.$$click=P,i(G,()=>d()?"DESCENDING":"ASCENDING"),r(S,"href",`${g}/ui.svg#sort-descending`),r(H,"href",`${g}/ui.svg#sort-ascending`),i(be,()=>D().map(t=>(()=>{var s=v(Ie);return i(s,w(Ne,{entry:t})),s})())),Q(t=>{var s=d()?"block":"hidden",n=d()?"hidden":"block";return s!==t.e&&r(S,"class",t.e=s),n!==t.t&&r(H,"class",t.t=n),t},{e:void 0,t:void 0}),C(),e})()}me(["click"]);export{ze as default};
